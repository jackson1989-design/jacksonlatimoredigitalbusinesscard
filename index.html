<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jackson Latimore ‚Ä¢ Digital Card</title>

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React + ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <!-- Babel (for text/babel) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
      /* Optional scrollbar styling */
      .custom-scrollbar::-webkit-scrollbar { width: 8px; }
      .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.12); border-radius: 999px; }
      .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }

      @keyframes fadeUp {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .animate-in { animation: fadeUp 220ms ease-out; }
    </style>
  </head>

  <body class="bg-slate-100">
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect, useRef, useCallback } = React;

      // --- DATA & CONFIG ---
      const APP_DATA = {
        name: "Jackson M. Latimore Sr.",
        title: "Founder & CEO",
        company: "Latimore Life & Legacy LLC",
        license: "PA License #1268820",
        tagline: "Protecting Today. Securing Tomorrow.",
        phone: "(856) 895-1457",
        email: "jackson1989@latimorelegacy.com",
        bio:
          "Licensed life, health, accident & annuities professional helping families protect what matters and build lasting legacy strategies‚Äîwithout pressure, with clarity.",
        bannerUrl: "https://jackson1989-design.github.io/latimore-life-legacy-site/hero.jpg",
        links: {
          main: "https://jackson1989-design.github.io/latimore-life-legacy-site/",
          ethos: "https://agents.ethoslife.com/invite/29ad1",
          booking: "https://globalfinancialimpact.fillout.com/t/tMz7ZcqpaZus",
          linkedin: "https://www.linkedin.com/in/startwithjacksongfi/",
          facebook: "https://www.facebook.com/LatimoreLegacyLLC",
          instagram: "https://www.instagram.com/jacksonlatimore.global"
        },
        services: [
          { title: "Wealth Accumulation", icon: "üí∞", description: "Tax-advantaged vehicles like IULs for robust growth." },
          { title: "Asset Protection", icon: "üõ°Ô∏è", description: "Structures to safeguard savings from market volatility." },
          { title: "Education Funds", icon: "üéì", description: "Flexible funding strategies with tax-free growth." },
          { title: "Debt Management", icon: "‚è∞", description: "Eliminate interest waste and accelerate payoffs." },
          { title: "Life Insurance", icon: "‚ù§Ô∏è", description: "Immediate liquidity and family protection." },
          { title: "Living Benefits", icon: "üîó", description: "Access benefits early for critical or chronic illness." },
          { title: "Estate Planning", icon: "üíù", description: "Wills, trusts, and final expense planning." },
          { title: "Indexed Growth", icon: "üìà", description: "Market-linked gains with a 0% floor against loss." },
          { title: "Mortgage Protection", icon: "üè†", description: "Pay off the home in event of death or disability." },
          { title: "Business Strategies", icon: "üè≠", description: "Key person insurance and executive bonus plans." }
        ]
      };

      // --- THE "BRAIN" (KNOWLEDGE BASE) ---
      const KNOWLEDGE_BASE = [
        {
          keywords: ["72", "rule", "double", "doubling", "compound"],
          response:
            "The Rule of 72 is a simple math shortcut to estimate how fast money doubles.\n\nDivide 72 by the interest rate:\n‚Ä¢ 1%: ~72 years to double\n‚Ä¢ 6%: ~12 years to double\n‚Ä¢ 9%: ~8 years to double\n\nIt helps you visualize why low-growth accounts can fall behind inflation over time."
        },
        {
          keywords: ["cost", "price", "expensive", "quote", "much", "rates", "premium"],
          response:
            "Pricing is personalized based on age, health, and coverage amount.\n\nYou can get an instant estimate here:\n" + APP_DATA.links.ethos
        },
        {
          keywords: ["iul", "indexed", "invest", "stock", "market", "growth", "wealth"],
          response:
            "Indexed Universal Life (IUL) is permanent life insurance with cash value tied to an index.\n\nKey idea: potential index-linked growth with downside protection (often a 0% floor), plus policy charges and caps/participation rates.\n\nIf you want, ask: ‚ÄúHow does IUL work?‚Äù or ‚ÄúIs IUL right for retirement?‚Äù"
        },
        {
          keywords: ["debt", "loan", "credit", "card", "student", "payoff"],
          response:
            "Debt can block wealth building.\n\nA debt strategy typically reorganizes cash flow (and payoff order) to reduce interest drag and accelerate payoff.\n\nIf you share the types of debt (mortgage/credit cards/student loans), Jackson can map a payoff plan."
        },
        {
          keywords: ["mortgage", "house", "home", "protect"],
          response:
            "Mortgage protection is designed so the home can be paid off (or payments covered) if death or disability occurs‚Äîhelping the family keep the house."
        },
        {
          keywords: ["book", "schedule", "appointment", "meeting", "call", "calendar", "time"],
          response:
            "You can book a quick review here:\n" + APP_DATA.links.booking
        },
        {
          keywords: ["who", "jackson", "latimore", "bio", "background"],
          response:
            "Jackson M. Latimore Sr. is the Founder of Latimore Life & Legacy LLC, focused on protection-first planning and clear, no-pressure education for families and business owners."
        },
        {
          keywords: ["hello", "hi", "hey", "start", "greeting"],
          response:
            "Hello. I can help with protection planning, debt strategy, or growth concepts like the Rule of 72. What are you working on?"
        }
      ];

      // --- LOGIC: TYPEWRITER EFFECT COMPONENT ---
      const Typewriter = ({ text, onComplete }) => {
        const [displayedText, setDisplayedText] = useState("");

        useEffect(() => {
          let index = 0;
          const timer = setInterval(() => {
            setDisplayedText((prev) => prev + text.charAt(index));
            index++;
            if (index === text.length) {
              clearInterval(timer);
              if (onComplete) onComplete();
            }
          }, 15);
          return () => clearInterval(timer);
        }, [text]);

        return <span className="whitespace-pre-wrap">{displayedText}</span>;
      };

      // --- COMPONENT: SOCIAL BUTTON ---
      const SocialBtn = ({ href, icon }) => (
        <a
          href={href}
          target="_blank"
          rel="noopener noreferrer"
          className="flex items-center justify-center w-12 h-12 bg-white border-2 border-slate-100 rounded-2xl text-[#1D3A5F] hover:border-[#C29D6F] hover:bg-[#C29D6F]/5 transition-all text-xl"
          aria-label="Social link"
        >
          {icon}
        </a>
      );

      // --- COMPONENT: AI CHAT ASSISTANT ---
      const Assistant = ({ onClose, initialQuery }) => {
        const [messages, setMessages] = useState([
          { role: "assistant", content: `Hello! I'm your Legacy Advisor. Ask me about the "Rule of 72", IULs, or Mortgage Protection.` }
        ]);
        const [input, setInput] = useState("");
        const [isTyping, setIsTyping] = useState(false);
        const scrollRef = useRef(null);
        const hasAutoQueried = useRef(false);

        useEffect(() => {
          if (scrollRef.current) scrollRef.current.scrollTop = scrollRef.current.scrollHeight;
        }, [messages, isTyping]);

        const generateResponse = (userText) => {
          const lowerInput = userText.toLowerCase();

          const match = KNOWLEDGE_BASE.find((entry) =>
            entry.keywords.some((keyword) => lowerInput.includes(keyword))
          );

          if (match) return match.response;

          return (
            "That‚Äôs important. I can‚Äôt provide individualized financial advice here.\n\n" +
            "If you want, schedule a quick review and Jackson can run the numbers:\n" +
            APP_DATA.links.booking
          );
        };

        const handleSend = useCallback(
          (overrideText) => {
            const text = (overrideText ?? input).trim();
            if (!text || isTyping) return;

            setInput("");
            setMessages((prev) => [...prev, { role: "user", content: text }]);
            setIsTyping(true);

            setTimeout(() => {
              const responseText = generateResponse(text);
              setMessages((prev) => [...prev, { role: "assistant", content: responseText, type: "typewriter" }]);
              setIsTyping(false);
            }, 700);
          },
          [input, isTyping]
        );

        useEffect(() => {
          if (initialQuery && !hasAutoQueried.current) {
            hasAutoQueried.current = true;
            handleSend(initialQuery);
          }
        }, [initialQuery, handleSend]);

        // ESC to close
        useEffect(() => {
          const onKey = (e) => { if (e.key === "Escape") onClose(); };
          window.addEventListener("keydown", onKey);
          return () => window.removeEventListener("keydown", onKey);
        }, [onClose]);

        return (
          <div className="flex flex-col h-full bg-slate-50">
            <div className="p-5 bg-[#1D3A5F] text-white flex justify-between items-center shrink-0">
              <div className="flex items-center space-x-3">
                <div className="bg-[#C29D6F] p-1.5 rounded-lg text-xl">ü§ñ</div>
                <div>
                  <h3 className="font-bold text-base">Legacy Advisor AI</h3>
                  <p className="text-[10px] text-[#C29D6F] font-bold uppercase tracking-widest">Smart Assistant</p>
                </div>
              </div>
              <button
                onClick={onClose}
                className="w-8 h-8 flex items-center justify-center hover:bg-white/10 rounded-full transition-colors text-xl"
                aria-label="Close assistant"
              >
                ‚úï
              </button>
            </div>

            <div ref={scrollRef} className="flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar">
              {messages.map((msg, idx) => (
                <div key={idx} className={`flex ${msg.role === "user" ? "justify-end" : "justify-start"} animate-in`}>
                  <div
                    className={`max-w-[85%] p-3.5 rounded-2xl shadow-sm text-sm ${
                      msg.role === "user"
                        ? "bg-[#1D3A5F] text-white rounded-tr-none"
                        : "bg-white border border-slate-200 text-slate-700 rounded-tl-none"
                    }`}
                  >
                    {msg.type === "typewriter" && idx === messages.length - 1 ? (
                      <Typewriter text={msg.content} />
                    ) : (
                      <span className="whitespace-pre-wrap">{msg.content}</span>
                    )}
                  </div>
                </div>
              ))}

              {isTyping && (
                <div className="flex justify-start animate-in">
                  <div className="bg-white border border-slate-200 p-3 rounded-2xl flex items-center space-x-2 shadow-sm">
                    <span className="w-2 h-2 bg-[#C29D6F] rounded-full animate-bounce" style={{ animationDelay: "0s" }}></span>
                    <span className="w-2 h-2 bg-[#C29D6F] rounded-full animate-bounce" style={{ animationDelay: "0.2s" }}></span>
                    <span className="w-2 h-2 bg-[#C29D6F] rounded-full animate-bounce" style={{ animationDelay: "0.4s" }}></span>
                  </div>
                </div>
              )}
            </div>

            <div className="p-4 border-t bg-white shrink-0">
              <div className="flex space-x-2">
                <input
                  type="text"
                  value={input}
                  onChange={(e) => setInput(e.target.value)}
                  onKeyDown={(e) => e.key === "Enter" && handleSend()}
                  placeholder="Ask about Rule of 72..."
                  className="flex-1 bg-slate-100 px-4 py-3 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#C29D6F]/50"
                />
                <button
                  onClick={() => handleSend()}
                  disabled={isTyping || !input.trim()}
                  className="w-12 bg-[#1D3A5F] text-white rounded-xl shadow-md hover:bg-[#152a45] active:scale-95 transition-all flex items-center justify-center disabled:opacity-50"
                  aria-label="Send message"
                >
                  ‚û§
                </button>
              </div>
            </div>
          </div>
        );
      };

      // --- MAIN APP ---
      const App = () => {
        const [showAssistant, setShowAssistant] = useState(false);
        const [assistantQuery, setAssistantQuery] = useState(null);
        const [selectedService, setSelectedService] = useState(null);
        const [copied, setCopied] = useState(false);

        const handleCopyLink = () => {
          navigator.clipboard.writeText(window.location.href);
          setCopied(true);
          setTimeout(() => setCopied(false), 2000);
        };

        const handleSaveContact = () => {
          const vcardRows = [
            "BEGIN:VCARD",
            "VERSION:3.0",
            `FN:${APP_DATA.name}`,
            `ORG:${APP_DATA.company}`,
            `TITLE:${APP_DATA.title}`,
            `TEL;TYPE=WORK,VOICE:${APP_DATA.phone}`,
            `EMAIL;TYPE=WORK,INTERNET:${APP_DATA.email}`,
            `URL:${APP_DATA.links.main}`,
            "END:VCARD"
          ];
          const blob = new Blob([vcardRows.join("\n")], { type: "text/vcard" });
          const link = document.createElement("a");
          link.href = URL.createObjectURL(blob);
          link.download = "Latimore_Legacy.vcf";
          document.body.appendChild(link);
          link.click();
          document.body.removeChild(link);
        };

        // lock background scroll when modal open
        useEffect(() => {
          const anyModalOpen = showAssistant || !!selectedService;
          document.body.style.overflow = anyModalOpen ? "hidden" : "";
          return () => { document.body.style.overflow = ""; };
        }, [showAssistant, selectedService]);

        const openAssistantWith = (query) => {
          setAssistantQuery(query || null);
          setShowAssistant(true);
        };

        return (
          <div className="min-h-screen flex flex-col items-center sm:py-10 selection:bg-[#C29D6F]/30">
            <div className="w-full max-w-[440px] bg-white sm:rounded-[3rem] shadow-2xl overflow-hidden relative sm:border border-slate-200 min-h-screen sm:min-h-[800px]">

              {/* Banner */}
              <div className="w-full h-80 relative flex items-center justify-center overflow-hidden bg-[#1D3A5F]">
                <img src={APP_DATA.bannerUrl} alt="Hero" className="w-full h-full object-cover opacity-90" />
                <div className="absolute inset-0 bg-gradient-to-t from-[#1D3A5F]/90 to-transparent" />
                <div className="absolute bottom-0 w-full h-1.5 bg-[#C29D6F]" />
              </div>

              {/* Profile */}
              <div className="text-center px-6 -mt-20 relative z-10 pb-8">
                <div className="w-32 h-32 mx-auto rounded-full bg-white p-1 shadow-xl mb-4">
                  <div className="w-full h-full rounded-full bg-[#1D3A5F] flex items-center justify-center text-4xl overflow-hidden text-white font-bold">
                    JL
                  </div>
                </div>

                <h1 className="text-2xl font-black text-[#1D3A5F] tracking-tight">{APP_DATA.name}</h1>
                <p className="text-[#C29D6F] font-bold text-xs uppercase tracking-widest mt-1">{APP_DATA.title}</p>
                <p className="text-slate-500 text-xs mt-1">{APP_DATA.company}</p>
                <p className="text-slate-400 text-[11px] mt-2">{APP_DATA.license}</p>

                <div className="flex justify-center space-x-3 mt-6">
                  <SocialBtn href={APP_DATA.links.linkedin} icon="üíº" />
                  <SocialBtn href={APP_DATA.links.facebook} icon="üìò" />
                  <SocialBtn href={APP_DATA.links.instagram} icon="üì∑" />
                  <SocialBtn href={APP_DATA.links.main} icon="üåê" />
                </div>

                <div className="mt-8 mx-2 px-6 py-6 bg-slate-50 rounded-3xl border border-slate-100 relative">
                  <span className="absolute -top-3 left-4 text-[#C29D6F] text-5xl font-serif">"</span>
                  <p className="text-[#1D3A5F] text-sm leading-relaxed italic font-medium relative z-10">
                    {APP_DATA.bio}
                  </p>
                  <p className="text-slate-500 text-xs mt-4 font-semibold">{APP_DATA.tagline}</p>
                </div>
              </div>

              {/* Actions */}
              <div className="px-6 space-y-3 mb-10">
                <a
                  href={`mailto:${APP_DATA.email}`}
                  className="flex items-center justify-center space-x-3 w-full py-4 bg-[#1D3A5F] text-white rounded-2xl shadow-lg hover:bg-[#152a45] transition-all font-bold text-sm"
                >
                  <span>‚úâÔ∏è Send Secure Email</span>
                </a>

                <a
                  href={APP_DATA.links.booking}
                  target="_blank"
                  rel="noopener noreferrer"
                  className="flex items-center justify-center space-x-3 w-full py-4 bg-[#C29D6F] text-white rounded-2xl shadow-lg hover:opacity-90 transition-all font-bold text-sm"
                >
                  <span>üìÖ Schedule Legacy Review</span>
                </a>
              </div>

              <div className="grid grid-cols-2 gap-3 px-6 mb-10">
                <button
                  onClick={handleCopyLink}
                  className="flex items-center justify-center space-x-2 py-3 border border-slate-200 rounded-xl text-slate-500 font-semibold text-xs hover:bg-slate-50"
                >
                  <span>{copied ? "‚úì Copied" : "üìã Copy Link"}</span>
                </button>

                <button
                  onClick={handleSaveContact}
                  className="flex items-center justify-center space-x-2 py-3 bg-slate-800 text-white rounded-xl shadow-md font-semibold text-xs hover:bg-slate-900"
                >
                  <span>‚ûï Save Contact</span>
                </button>
              </div>

              {/* Services */}
              <div className="px-4 mb-24">
                <div className="bg-slate-50 rounded-[2.5rem] p-6 border border-slate-100 shadow-inner">
                  <h2 className="text-[#1D3A5F] text-center font-black text-[10px] uppercase tracking-[0.25em] mb-8 pb-4 border-b border-[#C29D6F]/20">
                    Full Portfolio
                  </h2>

                  <div className="grid grid-cols-2 gap-4">
                    {APP_DATA.services.map((service, i) => (
                      <button
                        key={i}
                        onClick={() => setSelectedService(service)}
                        className="bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex flex-col items-center text-center hover:border-[#C29D6F] transition-all h-32 justify-center"
                      >
                        <div className="text-2xl mb-2">{service.icon}</div>
                        <span className="text-[10px] font-bold text-[#1D3A5F] uppercase leading-tight">
                          {service.title}
                        </span>
                      </button>
                    ))}
                  </div>
                </div>
              </div>

              {/* Floating Chat */}
              <button
                onClick={() => openAssistantWith(null)}
                className="absolute bottom-6 right-6 bg-[#1D3A5F] p-4 rounded-full text-white shadow-2xl hover:scale-105 transition-all z-20 border-2 border-[#C29D6F]"
                aria-label="Open AI assistant"
              >
                <span className="text-3xl">ü§ñ</span>
              </button>

              {/* Service Modal */}
              {selectedService && (
                <div
                  className="absolute inset-0 z-40 flex items-center justify-center p-4 bg-[#1D3A5F]/60 backdrop-blur-sm"
                  onClick={() => setSelectedService(null)}
                >
                  <div
                    className="bg-white w-full max-w-sm rounded-[2rem] p-8 relative animate-in"
                    onClick={(e) => e.stopPropagation()}
                  >
                    <button
                      onClick={() => setSelectedService(null)}
                      className="absolute top-6 right-6 p-2 bg-slate-100 rounded-full"
                      aria-label="Close service"
                    >
                      ‚úï
                    </button>

                    <div className="text-3xl mb-4">{selectedService.icon}</div>
                    <h3 className="text-[#1D3A5F] font-black text-xl mb-2">{selectedService.title}</h3>
                    <p className="text-slate-600 text-sm leading-relaxed">{selectedService.description}</p>

                    <div className="mt-6 grid grid-cols-2 gap-3">
                      <a
                        href={APP_DATA.links.booking}
                        target="_blank"
                        rel="noopener noreferrer"
                        className="py-3 rounded-xl bg-[#C29D6F] text-white font-bold text-xs text-center hover:opacity-90"
                      >
                        Book Review
                      </a>

                      <button
                        onClick={() => {
                          const q = `Tell me about ${selectedService.title}`;
                          setSelectedService(null);
                          openAssistantWith(q);
                        }}
                        className="py-3 rounded-xl border border-slate-200 text-[#1D3A5F] font-bold text-xs hover:bg-slate-50"
                      >
                        Ask AI
                      </button>
                    </div>
                  </div>
                </div>
              )}

              {/* Assistant Modal */}
              {showAssistant && (
                <div
                  className="absolute inset-0 z-50 bg-[#1D3A5F]/60 backdrop-blur-sm p-4 flex items-center justify-center"
                  onClick={() => setShowAssistant(false)}
                >
                  <div
                    className="bg-white w-full max-w-sm h-[560px] rounded-[2rem] overflow-hidden shadow-2xl animate-in"
                    onClick={(e) => e.stopPropagation()}
                  >
                    <Assistant
                      initialQuery={assistantQuery}
                      onClose={() => {
                        setShowAssistant(false);
                        setAssistantQuery(null);
                      }}
                    />
                  </div>
                </div>
              )}
            </div>
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>