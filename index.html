<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jackson Latimore ‚Ä¢ Legacy Strategy Engine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <style>
      .custom-scrollbar::-webkit-scrollbar { width: 5px; }
      .custom-scrollbar::-webkit-scrollbar-thumb { background: #C29D6F; border-radius: 10px; }
      @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
      .animate-slide-up { animation: slideUp 0.3s ease-out; }
      .strategy-gradient { background: linear-gradient(135deg, #1D3A5F 0%, #0F2036 100%); }
      .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>
  </head>

  <body class="bg-slate-100 font-sans antialiased">
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect, useRef } = React;

      // --- 1. STRATEGIC KNOWLEDGE BASE (Mapped to Power of Zero & Retirement Miracle) ---
      const KNOWLEDGE_BASE = {
        "Wealth Accumulation": {
          title: "TAX-ADVANTAGED WEALTH & THE POWER OF ZERO",
          content: "Most savers are 'Tax Procrastinators' placing money in 401ks. As David McKnight teaches, if tax rates double, your retirement is cut in half. We focus on the Tax-Never bucket, utilizing North American Builder Plus IUL to get you to the 0% tax bracket. This ensures that even if tax rates rise, your harvest remains 100% yours.",
          next: "Ask me about the 'Tax Bucket Audit' to see your future liability."
        },
        "Asset Protection": {
          title: "THE RETIREMENT MIRACLE & 0% FLOOR",
          content: "Patrick Kelly identifies the 'Retirement Miracle' as the ability to participate in market gains without ever suffering a loss. We utilize AssetShield strategies with a 0% Floor. When the market crashes, you lose nothing. When it recovers, you start growing immediately from your highest point‚Äîno 'making up' lost ground.",
          next: "Ask how a 0% floor prevents 'Sequence of Returns' risk."
        },
        "Living Benefits": {
          title: "LIVING BENEFITS: PROTECTION FOR THE LIVING",
          content: "Traditional life insurance is 'Death Insurance'. We provide 'Life Preservation Insurance'. If you suffer a heart attack, stroke, or cancer, you can accelerate your death benefit while alive to pay for specialized care or replace lost income. Your health is your currency, and this strategy protects it.",
          next: "Ask about the conditions covered by Living Benefits."
        },
        "Debt Management": {
          title: "PRIVATE FAMILY BANKING & DEBT SHREDDER",
          content: "As taught in 'Money. Wealth. Life Insurance.', the wealthy use cash value as a private bank. Our Debt Shredder strategy redirects the interest you currently pay to banks back into your own policy. You can pay off a 30-year mortgage in 9-12 years by 'borrowing from yourself' and keeping the interest in the family.",
          next: "Ready to run your numbers through the Private Bank calculator?"
        },
        "Estate Planning": {
          title: "THE LEGACY PORTRAIT & PROBATE AVOIDANCE",
          content: "A legacy isn't just an inheritance; it's a plan. Through Ethos Perks, we provide free Will and Trust tools to ensure your family avoids the delay of probate. We help you create your Legacy Portrait to ensure your values transition to the next generation with absolute clarity and legal standing.",
          next: "Access the Planning Portal to secure your free Will today."
        },
        "Mortgage Protection": {
          title: "SECURE HOUSING & THE D.I.M.E. METHOD",
          content: "Your home is likely your biggest liability. We use the D.I.M.E. Method (Debt, Income, Mortgage, Education) to calculate exactly what is needed to clear your deed if a breadwinner passes or gets sick. Unlike lender insurance, YOU own this plan and it stays with you if you refinance.",
          next: "Ask me to explain the D.I.M.E. calculation."
        },
        "College Funding": {
          title: "THE MILLION DOLLAR BABY STRATEGY",
          content: "529 plans are restricted. We use juvenile IULs to create a tax-free cash pile for your children. This funds college, a first home, or a retirement head start. It guarantees their insurability for life, giving them a 'Family Bank' they can use before they ever graduate.",
          next: "Ask how a juvenile plan grows over 20 years."
        },
        "Indexed Growth": {
          title: "SMART MONEY INDEXING POTENTIAL",
          content: "You get market-linked gains without market-linked risk. Through the Power of Reset, your gains are locked in every year. If the index drops 20%, you stay at 0%. You participate in the upside of the market while the carrier absorbs the downside risk. This is how the wealthy protect their wealth.",
          next: "Ask about the difference between indexing and investing."
        },
        "Business Strategies": {
          title: "BUSINESS CONTINUITY & KEY PERSON",
          content: "We protect business owners from Key Person risk. If a vital partner passes, the business can collapse. We design Buy-Sell agreements funded by life insurance to provide immediate liquidity, allowing surviving owners to buy out heirs and keep the business operating smoothly.",
          next: "Ask about Executive Bonus plans to retain your top talent."
        },
        "Final Expense": {
          title: "FINAL EXPENSE & FAMILY DIGNITY",
          content: "Don't leave your family with a GoFundMe page. We offer simplified whole life with instant decisions and no medical exams. This covers burial, medical bills, and final costs, ensuring your legacy is defined by preparedness and peace for those you leave behind.",
          next: "Ask about instant-decision final expense plans."
        }
      };

      const APP_DATA = {
        name: "Jackson M. Latimore Sr.",
        title: "Founder & CEO",
        company: "Latimore Life & Legacy LLC",
        license: "PA License #1268820",
        nipr: "NIPR #21638507",
        phone: "(856) 895-1457",
        email: "jackson1989@latimorelegacy.com",
        links: {
          main: window.location.href,
          scorecard: "https://globalfinancialimpact.fillout.com/t/tMz7ZcqpaZus",
          portal: "https://globalfinancialimpact.fillout.com/latimorelifelegacy",
          verification: "https://www.insurance.pa.gov/Licensing/CheckLicStatus/Pages/default.aspx",
          linkedin: "https://www.linkedin.com/in/startwithjacksongfi/",
          facebook: "https://www.facebook.com/LatimoreLegacyLLC",
          instagram: "https://www.instagram.com/jacksonlatimore.global"
        }
      };

      // --- 2. COMPONENTS ---

      const Assistant = ({ onClose, initialQuery }) => {
        const [messages, setMessages] = useState([
          { role: "assistant", content: "Hi, I'm Legacy AI. üëã \n\nI am Jackson's expert strategy engine. I specialize in the Rule of 72, the Power of Zero, and the D.I.M.E. Method. Select a card or ask me a strategy question." }
        ]);
        const [isTyping, setIsTyping] = useState(false);
        const scrollRef = useRef(null);

        useEffect(() => {
          if (initialQuery) handleSend(initialQuery);
        }, [initialQuery]);

        const handleSend = (text) => {
          if (!text.trim()) return;
          setMessages(prev => [...prev, { role: "user", content: text }]);
          setIsTyping(true);

          setTimeout(() => {
            let foundKey = Object.keys(KNOWLEDGE_BASE).find(k => text.toLowerCase().includes(k.toLowerCase()));
            let data = foundKey ? KNOWLEDGE_BASE[foundKey] : null;

            if (text.toLowerCase().includes("dime")) {
              data = {
                title: "THE D.I.M.E. METHOD",
                content: "D.I.M.E. stands for Debt, Income replacement, Mortgage, and Education. This formula determines your family's exact protection gap to ensure they never have to change their standard of living if the unexpected happens.",
                next: "Run your Financial Score to calculate your D.I.M.E. total."
              };
            } else if (text.toLowerCase().includes("x-curve") || text.toLowerCase().includes("x curve")) {
              data = {
                title: "THE X-CURVE THEORY",
                content: "The X-Curve shows your financial life in two lines: 1. Decreasing Responsibility (mortgage, kids) and 2. Increasing Wealth (retirement). We use insurance to protect the first line and annuities to build the second.",
                next: "Ask about the 3 Rules of Money to see how we build the wealth line."
              };
            }

            if (!data) {
              data = {
                title: "STRATEGY INSIGHT",
                content: "I am programmed with the Power of Zero, the Rule of 72, and Private Family Banking strategies. Which would you like to master today?",
                next: "Type a strategy name above to begin."
              };
            }

            setMessages(prev => [...prev, { role: "assistant", content: `${data.title}\n\n${data.content}\n\nNext Step: ${data.next}` }]);
            setIsTyping(false);
            scrollRef.current?.scrollTo({ top: scrollRef.current.scrollHeight, behavior: 'smooth' });
          }, 800);
        };

        return (
          <div className="flex flex-col h-full bg-white">
            <div className="p-5 strategy-gradient text-white flex justify-between items-center border-b-4 border-[#C29D6F]">
              <div>
                <h3 className="font-black text-sm uppercase tracking-widest leading-none">Legacy AI</h3>
                <p className="text-[10px] text-[#C29D6F] font-bold uppercase mt-1">Expert Strategy Engine</p>
              </div>
              <button onClick={onClose} className="w-8 h-8 flex items-center justify-center bg-white/10 rounded-full text-xl">√ó</button>
            </div>
            <div ref={scrollRef} className="flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar bg-slate-50">
              {messages.map((m, i) => (
                <div key={i} className={`flex ${m.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                  <div className={`max-w-[90%] p-4 rounded-2xl text-sm shadow-sm leading-relaxed ${m.role === 'user' ? 'bg-[#1D3A5F] text-white rounded-tr-none' : 'bg-white border border-slate-200 text-slate-800 rounded-tl-none'}`}>
                    <span className="whitespace-pre-wrap">{m.content}</span>
                  </div>
                </div>
              ))}
              {isTyping && <div className="text-[10px] text-slate-400 animate-pulse px-2 font-bold uppercase">Legacy AI Analyzing...</div>}
            </div>
            <div className="p-4 bg-white border-t flex flex-col gap-2">
               <div className="flex overflow-x-auto gap-2 pb-2 no-scrollbar">
                  {["Rule of 72", "DIME Method", "Tax Buckets", "X-Curve"].map(tag => (
                    <button key={tag} onClick={() => handleSend(tag)} className="whitespace-nowrap px-3 py-1 bg-slate-100 rounded-full text-[10px] font-bold text-[#1D3A5F] border border-slate-200 uppercase tracking-tighter">
                      {tag}
                    </button>
                  ))}
               </div>
               <div className="flex gap-2">
                  <input id="chatInput" placeholder="Ask about the Rule of 72..." className="flex-1 bg-slate-100 p-3 rounded-xl text-sm outline-none border focus:border-[#C29D6F]" onKeyDown={(e)=>e.key==='Enter' && handleSend(e.target.value)} />
                  <button onClick={() => {const el=document.getElementById('chatInput'); handleSend(el.value); el.value='';}} className="bg-[#1D3A5F] text-white px-5 rounded-xl font-bold">‚û°Ô∏è</button>
               </div>
            </div>
          </div>
        );
      };

      const QRCodeModal = ({ onClose }) => {
        useEffect(() => {
          new QRCode(document.getElementById("qrcode"), { text: APP_DATA.links.main, width: 200, height: 200, colorDark : "#1D3A5F", colorLight : "#ffffff", });
        }, []);
        return (
          <div className="fixed inset-0 z-50 bg-[#1D3A5F]/90 backdrop-blur-md flex items-center justify-center p-6" onClick={onClose}>
            <div className="bg-white p-8 rounded-[3rem] text-center animate-slide-up" onClick={e=>e.stopPropagation()}>
              <h3 className="font-black text-[#1D3A5F] mb-2 uppercase tracking-widest text-sm">Share My Legacy Card</h3>
              <div id="qrcode" className="mx-auto border-8 border-slate-50 p-2 rounded-2xl mb-4"></div>
              <button onClick={onClose} className="mt-6 w-full py-3 bg-slate-100 rounded-xl text-[#1D3A5F] font-black text-xs uppercase tracking-widest">Close</button>
            </div>
          </div>
        );
      };

      // --- 3. MAIN APP ---

      const App = () => {
        const [view, setView] = useState(null); 
        const [query, setQuery] = useState(null);

        return (
          <div className="min-h-screen flex flex-col items-center sm:py-10 bg-slate-100 selection:bg-[#C29D6F]/30">
            <div className="w-full max-w-[440px] bg-white sm:rounded-[3rem] shadow-2xl relative border border-slate-200 min-h-screen sm:min-h-[850px] overflow-visible">
              
              {/* Header */}
              <div className="w-full h-72 relative bg-[#1D3A5F] sm:rounded-t-[3rem] overflow-hidden">
                <img src="https://jackson1989-design.github.io/latimore-life-legacy-site/hero.jpg" className="w-full h-full object-cover opacity-50" />
                <div className="absolute inset-0 bg-gradient-to-t from-[#1D3A5F] via-[#1D3A5F]/40 to-transparent" />
                <div className="absolute bottom-6 px-8">
                  <p className="text-[#C29D6F] text-[10px] font-black uppercase tracking-[0.3em] mb-1">Preparedness Is Everything</p>
                  <h2 className="text-white text-[11px] font-medium italic leading-relaxed opacity-90 uppercase">
                    My life was saved because someone else planned ahead. I build legacies so your family never has to scramble.
                  </h2>
                </div>
              </div>

              {/* Profile Card */}
              <div className="text-center px-6 -mt-16 relative z-10">
                <div className="w-32 h-32 mx-auto rounded-full bg-white p-1 shadow-2xl mb-4 border-4 border-white">
                  <div className="w-full h-full rounded-full bg-[#1D3A5F] flex items-center justify-center text-3xl text-white font-black">JL</div>
                </div>
                <h1 className="text-2xl font-black text-[#1D3A5F] tracking-tighter uppercase">{APP_DATA.name}</h1>
                <p className="text-[#C29D6F] font-bold text-[10px] uppercase tracking-[0.2em] mt-1">{APP_DATA.title}</p>
                
                <div className="flex flex-col items-center mt-1">
                   <a href={APP_DATA.links.verification} target="_blank" className="text-slate-400 text-[9px] font-bold uppercase hover:text-[#C29D6F] transition-colors underline decoration-dotted underline-offset-2">
                     {APP_DATA.license}
                   </a>
                   <p className="text-slate-400 text-[9px] font-bold uppercase mt-0.5">{APP_DATA.nipr}</p>
                </div>
              </div>

              {/* ACTION FUNNEL */}
              <div className="px-6 py-8 space-y-4">
                <a href={APP_DATA.links.scorecard} target="_blank" className="flex flex-col items-center justify-center w-full py-5 bg-[#C29D6F] text-white rounded-3xl shadow-xl hover:scale-[1.02] transition-all">
                  <span className="font-black text-sm uppercase tracking-widest leading-none">üèÜ Get Your Financial Score</span>
                  <span className="text-[9px] font-bold opacity-80 uppercase mt-1 tracking-tighter">Start Free Assessment</span>
                </a>

                <div className="grid grid-cols-2 gap-3">
                  <a href={APP_DATA.links.portal} target="_blank" className="flex items-center justify-center py-4 bg-[#1D3A5F] text-white rounded-2xl font-bold text-[10px] uppercase tracking-widest shadow-lg">Strategic Portal</a>
                  <button onClick={() => setView('qr')} className="flex items-center justify-center py-4 bg-slate-800 text-white rounded-2xl font-bold text-[10px] uppercase tracking-widest shadow-lg">Share Card</button>
                </div>
              </div>

              {/* SERVICE GRID (10 CARDS) */}
              <div className="px-6 mb-24">
                <div className="bg-slate-50 rounded-[2.5rem] p-6 border border-slate-100">
                   <h2 className="text-[#1D3A5F] text-center font-black text-[10px] uppercase tracking-[0.25em] mb-6">Expert Consulting Services</h2>
                   <div className="grid grid-cols-2 gap-3">
                      {Object.keys(KNOWLEDGE_BASE).map(service => (
                        <button key={service} onClick={() => {setQuery(service); setView('ai');}} className="bg-white p-4 rounded-2xl shadow-sm border border-slate-100 text-center hover:border-[#C29D6F] transition-all active:scale-95">
                           <div className="text-[9px] font-black text-[#1D3A5F] uppercase leading-tight">{service}</div>
                           <div className="text-[8px] text-slate-400 mt-2 font-bold uppercase tracking-tighter">Master Strategy ‚Üí</div>
                        </button>
                      ))}
                   </div>
                </div>
              </div>

              {/* STICKY CHAT */}
              <div className="sticky bottom-6 flex justify-end px-6 z-20 pointer-events-none pb-6">
                <button onClick={() => setView('ai')} className="bg-[#1D3A5F] px-6 py-4 rounded-full text-white shadow-2xl border-2 border-[#C29D6F] pointer-events-auto flex items-center gap-2">
                  <span className="text-xs font-black tracking-widest">üí¨ LEGACY AI</span>
                </button>
              </div>

              {/* MODALS */}
              {view === 'ai' && (
                <div className="fixed inset-0 z-50 bg-[#1D3A5F]/60 backdrop-blur-sm p-4 flex items-center justify-center" onClick={() => setView(null)}>
                  <div className="bg-white w-full max-w-sm h-[600px] rounded-[3rem] overflow-hidden shadow-2xl animate-slide-up" onClick={e=>e.stopPropagation()}>
                    <Assistant onClose={() => {setView(null); setQuery(null);}} initialQuery={query} />
                  </div>
                </div>
              )}

              {view === 'qr' && <QRCodeModal onClose={() => setView(null)} />}

            </div>
            <p className="text-[10px] text-slate-400 mt-8 font-bold uppercase tracking-[0.4em]">#TheBeatGoesOn</p>
          </div>
        );
      };

      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  </body>
</html>
