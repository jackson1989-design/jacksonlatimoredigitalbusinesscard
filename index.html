<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jackson Latimore • Digital Business Card</title>

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React + ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <!-- Babel (for text/babel) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
      .custom-scrollbar::-webkit-scrollbar { width: 8px; }
      .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.12); border-radius: 999px; }
      .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }

      @keyframes fadeUp {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .animate-in { animation: fadeUp 220ms ease-out; }
    </style>
  </head>

  <body class="bg-slate-100">
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect, useRef, useCallback } = React;

      // --- DATA & CONFIG ---
      const APP_DATA = {
        name: "Jackson M. Latimore Sr.",
        title: "Founder & CEO",
        company: "Latimore Life & Legacy LLC",
        license: "PA License #1268820",
        tagline: "Protecting Today. Securing Tomorrow.",
        phone: "(856) 895-1457",
        email: "jackson1989@latimorelegacy.com",
        bio:
          "Licensed life, health, accident, and annuities professional providing education-first planning to help families protect what matters and make informed decisions.",
        bannerUrl: "https://jackson1989-design.github.io/latimore-life-legacy-site/hero.jpg",
        links: {
          main: "https://jackson1989-design.github.io/latimore-life-legacy-site/",
          ethos: "https://agents.ethoslife.com/invite/29ad1",
          booking: "https://globalfinancialimpact.fillout.com/t/tMz7ZcqpaZus",
          linkedin: "https://www.linkedin.com/in/startwithjacksongfi/",
          facebook: "https://www.facebook.com/LatimoreLegacyLLC",
          instagram: "https://www.instagram.com/jacksonlatimore.global"
        },
        services: [
          { title: "Wealth Accumulation", icon: "WA", description: "Education on tax-advantaged accumulation concepts and long-term planning considerations." },
          { title: "Asset Protection", icon: "AP", description: "Strategies designed to limit downside exposure and support disciplined planning." },
          { title: "Education Funding", icon: "EF", description: "Funding approaches focused on flexibility, control, and tax efficiency concepts." },
          { title: "Debt Management", icon: "DM", description: "Cash-flow-based payoff sequencing to reduce interest drag and improve liquidity." },
          { title: "Life Insurance", icon: "LI", description: "Coverage designed to create immediate liquidity for beneficiaries and protect income." },
          { title: "Living Benefits", icon: "LB", description: "General education on riders that may allow early access to benefits under qualifying events." },
          { title: "Estate Planning Support", icon: "EP", description: "Coordination support (attorney-led for legal documents) and final expense planning concepts." },
          { title: "Indexed Strategies", icon: "IS", description: "Index-linked product education; features vary by carrier and policy, including caps/spreads/participation." },
          { title: "Mortgage Protection", icon: "MP", description: "Coverage structured to help protect the home and household stability if a covered event occurs." },
          { title: "Business Strategies", icon: "BS", description: "Key person coverage and executive benefit concepts for continuity and retention planning." }
        ]
      };

      // --- PROFESSIONAL KNOWLEDGE BASE ---
      // NOTE: This is educational content only, not individualized advice.
      const KNOWLEDGE_BASE = [
        {
          id: "rule_72",
          keywords: ["rule of 72", "72", "doubling", "double", "compound", "compound interest"],
          answer: {
            headline: "Rule of 72 — estimating how quickly money can double",
            keyPoints: [
              "Divide 72 by an annual rate of return to estimate the doubling timeframe.",
              "Example: 6% ≈ 12 years (72 ÷ 6), 9% ≈ 8 years (72 ÷ 9).",
              "This is a shortcut for basic comparisons—not a guarantee of results.",
              "Inflation matters; if inflation exceeds growth, purchasing power can decline."
            ],
            disclosure: "General educational information only. Actual outcomes depend on product terms, costs, and market conditions.",
            nextQuestion: "Are you applying this to savings growth, retirement planning, or debt interest comparison?"
          }
        },
        {
          id: "term_vs_perm",
          keywords: ["term", "permanent", "whole life", "universal life", "term vs", "difference", "which is better"],
          answer: {
            headline: "Term vs. Permanent life insurance — a practical framework",
            keyPoints: [
              "Term insurance is coverage for a set period (e.g., 10/20/30 years) and is often used for income and mortgage protection.",
              "Permanent insurance is designed to last longer and may include cash value, depending on the type.",
              "Many plans start with protection needs first, then evaluate permanent features if the budget and goals support it.",
              "The right fit depends on timeframe, obligations, and long-term objectives."
            ],
            disclosure: "General educational information only. Policy features and costs vary by product and underwriting class.",
            nextQuestion: "What are you primarily protecting: family income, mortgage, or final expenses?"
          }
        },
        {
          id: "pricing",
          keywords: ["cost", "price", "quote", "premium", "rates", "how much", "expensive"],
          answer: {
            headline: "What determines life insurance pricing",
            keyPoints: [
              "Premiums are individualized based on age, health, tobacco status, coverage amount, and product type.",
              "Underwriting class can materially impact pricing (when underwriting applies).",
              "A quick estimate can provide a starting point, then a review clarifies design and options."
            ],
            disclosure: "General educational information only. Quotes are not binding and are subject to eligibility and underwriting (if applicable).",
            nextQuestion: "If you want a fast baseline estimate, use the instant estimate link below:\n" + APP_DATA.links.ethos
          }
        },
        {
          id: "mortgage_protection",
          keywords: ["mortgage", "house", "home", "protect", "mortgage protection", "keep the house"],
          answer: {
            headline: "Mortgage protection — what it is designed to solve",
            keyPoints: [
              "Mortgage protection is typically structured so the household can keep the home if a death occurs (and sometimes if disability riders apply, depending on product).",
              "Coverage is often aligned to the mortgage term (e.g., 20–30 years).",
              "The goal is benefit adequacy (enough coverage) and duration alignment (long enough term).",
              "Beneficiary and ownership structure should match the household plan."
            ],
            disclosure: "General educational information only. Product availability and features vary by carrier and policy.",
            nextQuestion: "Approximately how many years remain on your mortgage: 10, 20, or 30?"
          }
        },
        {
          id: "iul_basics",
          keywords: ["iul", "indexed universal life", "cash value", "cap", "floor", "participation", "spread", "s&p", "index"],
          answer: {
            headline: "Indexed Universal Life (IUL) — high-level overview",
            keyPoints: [
              "IUL is permanent life insurance that may accumulate cash value using an index crediting strategy (not a direct market investment).",
              "Crediting is product-dependent and may include caps, participation rates, or spreads.",
              "Downside protection is typically described as a floor on index crediting; policy charges still apply.",
              "Loans and withdrawals can impact policy values and performance over time.",
              "Policy design and ongoing management affect outcomes materially."
            ],
            disclosure: "General educational information only. Product terms, costs, and crediting methods vary by carrier and policy. Not tax or legal advice.",
            nextQuestion: "Is your interest in IUL primarily for lifetime coverage, accumulation concepts, or retirement income planning?"
          }
        },
        {
          id: "fia_basics",
          keywords: ["annuity", "fia", "fixed indexed annuity", "indexed annuity", "income rider", "guaranteed income"],
          answer: {
            headline: "Fixed Indexed Annuity (FIA) — high-level overview",
            keyPoints: [
              "An FIA is an insurance product that credits interest using an index-linked method, subject to caps/spreads/participation.",
              "It is generally designed for principal protection from index losses, but results depend on crediting terms and costs.",
              "Most contracts include surrender schedules and liquidity rules; it is typically long-term money.",
              "Income riders (when elected) are designed to support predictable income features, subject to contract terms."
            ],
            disclosure: "General educational information only. Contract features, surrender periods, and rider costs vary by carrier and product.",
            nextQuestion: "Are you evaluating an annuity for accumulation, or specifically for lifetime income?"
          }
        },
        {
          id: "living_benefits",
          keywords: ["living benefits", "critical illness", "chronic illness", "terminal", "accelerated", "rider"],
          answer: {
            headline: "Living benefits — general explanation",
            keyPoints: [
              "Some life policies include riders that may allow access to benefits early under defined qualifying events.",
              "Eligibility, definitions, and payout structures vary by carrier and policy.",
              "This is not a substitute for health insurance; it is a policy feature with specific terms.",
              "Always review rider language and limitations in writing."
            ],
            disclosure: "General educational information only. Coverage and rider availability vary by policy and underwriting.",
            nextQuestion: "Are you exploring living benefits primarily for household protection or business continuity concerns?"
          }
        },
        {
          id: "debt",
          keywords: ["debt", "loan", "credit", "card", "student", "payoff", "interest"],
          answer: {
            headline: "Debt management — what a structured plan typically addresses",
            keyPoints: [
              "The objective is reducing interest drag while maintaining sufficient cash reserves.",
              "A plan usually sequences payoff by rate, risk, and cash-flow impact.",
              "Small optimizations (payment timing, consolidation evaluation, budgeting) can improve speed and control.",
              "The right approach depends on income stability and the type of debt."
            ],
            disclosure: "General educational information only. Not legal, tax, or credit counseling advice.",
            nextQuestion: "Which debt category is primary: credit cards, auto, student loans, or mortgage?"
          }
        },
        {
          id: "booking",
          keywords: ["book", "schedule", "appointment", "meeting", "call", "calendar", "time", "talk"],
          answer: {
            headline: "Schedule a review",
            keyPoints: [
              "A short review clarifies goals, time horizon, and next best steps.",
              "Education-first discussion; no pressure.",
              "You can request a needs-based review for protection, mortgage coverage, or retirement strategy concepts."
            ],
            disclosure: "General educational information only. Specific recommendations require a fact-finding review.",
            nextQuestion: "Schedule here:\n" + APP_DATA.links.booking
          }
        },
        {
          id: "about",
          keywords: ["who", "jackson", "latimore", "bio", "background", "company"],
          answer: {
            headline: "About Jackson and Latimore Life & Legacy LLC",
            keyPoints: [
              "Founder-led planning focused on protection-first education and clear next steps.",
              "Services include life insurance education, indexed strategy concepts, and retirement planning discussions.",
              "The objective is to help households understand options and make informed decisions."
            ],
            disclosure: "General educational information only. Products and features vary by carrier and policy.",
            nextQuestion: "What are you planning for right now: family protection, mortgage coverage, or retirement income?"
          }
        }
      ];

      // --- LOGIC: TYPEWRITER EFFECT COMPONENT ---
      const Typewriter = ({ text, onComplete }) => {
        const [displayedText, setDisplayedText] = useState("");

        useEffect(() => {
          let index = 0;
          const timer = setInterval(() => {
            setDisplayedText((prev) => prev + text.charAt(index));
            index++;
            if (index === text.length) {
              clearInterval(timer);
              if (onComplete) onComplete();
            }
          }, 12);
          return () => clearInterval(timer);
        }, [text]);

        return <span className="whitespace-pre-wrap">{displayedText}</span>;
      };

      // --- COMPONENT: SOCIAL BUTTON ---
      const SocialBtn = ({ href, label }) => (
        <a
          href={href}
          target="_blank"
          rel="noopener noreferrer"
          className="flex items-center justify-center h-12 px-4 bg-white border-2 border-slate-100 rounded-2xl text-[#1D3A5F] hover:border-[#C29D6F] hover:bg-[#C29D6F]/5 transition-all text-xs font-bold uppercase tracking-wider"
          aria-label={label}
        >
          {label}
        </a>
      );

      // --- PROFESSIONAL MATCHING ---
      const normalize = (s) =>
        (s || "")
          .toLowerCase()
          .replace(/[^\w\s]/g, " ")
          .replace(/\s+/g, " ")
          .trim();

      const scoreEntry = (text, entry) => {
        const t = normalize(text);
        let score = 0;

        for (const kw of entry.keywords) {
          const k = normalize(kw);
          if (!k) continue;

          if (t.includes(k)) score += Math.min(10, 3 + k.split(" ").length);
          if (k.split(" ").length === 1 && t.split(" ").includes(k)) score += 2;
        }

        // Slight boost for question phrasing
        if (/[?]/.test(text)) score += 1;

        // Slight boost for intent words
        if (/\b(compare|difference|pros|cons|best|should|recommend)\b/i.test(text)) score += 1;

        return score;
      };

      const formatAnswer = (entry) => {
        const a = entry.answer || {};
        const bullets = (a.keyPoints || []).map((p) => `• ${p}`).join("\n");
        const disclosure = a.disclosure ? `\n\n${a.disclosure}` : "";
        const next = a.nextQuestion ? `\n\n${a.nextQuestion}` : "";
        return `${a.headline || "Information"}\n\n${bullets}${disclosure}${next}`;
      };

      // --- COMPONENT: AI CHAT ASSISTANT ---
      const Assistant = ({ onClose, initialQuery }) => {
        const [messages, setMessages] = useState([
          {
            role: "assistant",
            content:
              "Welcome. Ask a question about life insurance, indexed strategies, mortgage protection, or the Rule of 72. I provide general educational information and next-step guidance."
          }
        ]);
        const [input, setInput] = useState("");
        const [isTyping, setIsTyping] = useState(false);
        const scrollRef = useRef(null);
        const hasAutoQueried = useRef(false);

        useEffect(() => {
          if (scrollRef.current) scrollRef.current.scrollTop = scrollRef.current.scrollHeight;
        }, [messages, isTyping]);

        const generateResponse = (userText) => {
          const ranked = KNOWLEDGE_BASE
            .map((entry) => ({ entry, score: scoreEntry(userText, entry) }))
            .sort((a, b) => b.score - a.score);

          const best = ranked[0];

          if (best && best.score >= 3) return formatAnswer(best.entry);

          return (
            "I can help—one quick clarifier so I answer precisely:\n\n" +
            "Which area applies most right now?\n" +
            "• Family protection (life insurance)\n" +
            "• Mortgage protection\n" +
            "• Retirement planning concepts (indexed strategies)\n" +
            "• Debt payoff strategy\n\n" +
            "Reply with one, and I will outline the core considerations."
          );
        };

        const handleSend = useCallback(
          (overrideText) => {
            const text = (overrideText ?? input).trim();
            if (!text || isTyping) return;

            setInput("");
            setMessages((prev) => [...prev, { role: "user", content: text }]);
            setIsTyping(true);

            setTimeout(() => {
              const responseText = generateResponse(text);
              setMessages((prev) => [...prev, { role: "assistant", content: responseText, type: "typewriter" }]);
              setIsTyping(false);
            }, 650);
          },
          [input, isTyping]
        );

        useEffect(() => {
          if (initialQuery && !hasAutoQueried.current) {
            hasAutoQueried.current = true;
            handleSend(initialQuery);
          }
        }, [initialQuery, handleSend]);

        // ESC to close
        useEffect(() => {
          const onKey = (e) => {
            if (e.key === "Escape") onClose();
          };
          window.addEventListener("keydown", onKey);
          return () => window.removeEventListener("keydown", onKey);
        }, [onClose]);

        return (
          <div className="flex flex-col h-full bg-slate-50">
            <div className="p-5 bg-[#1D3A5F] text-white flex justify-between items-center shrink-0">
              <div className="flex items-center space-x-3">
                <div className="bg-[#C29D6F] px-3 py-2 rounded-lg text-xs font-black tracking-widest">AI</div>
                <div>
                  <h3 className="font-bold text-base">Legacy Advisor</h3>
                  <p className="text-[10px] text-[#C29D6F] font-bold uppercase tracking-widest">Education-First Assistant</p>
                </div>
              </div>
              <button
                onClick={onClose}
                className="w-8 h-8 flex items-center justify-center hover:bg-white/10 rounded-full transition-colors text-xl"
                aria-label="Close assistant"
              >
                ×
              </button>
            </div>

            <div ref={scrollRef} className="flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar">
              {messages.map((msg, idx) => (
                <div key={idx} className={`flex ${msg.role === "user" ? "justify-end" : "justify-start"} animate-in`}>
                  <div
                    className={`max-w-[88%] p-3.5 rounded-2xl shadow-sm text-sm ${
                      msg.role === "user"
                        ? "bg-[#1D3A5F] text-white rounded-tr-none"
                        : "bg-white border border-slate-200 text-slate-700 rounded-tl-none"
                    }`}
                  >
                    {msg.type === "typewriter" && idx === messages.length - 1 ? (
                      <Typewriter text={msg.content} />
                    ) : (
                      <span className="whitespace-pre-wrap">{msg.content}</span>
                    )}
                  </div>
                </div>
              ))}

              {isTyping && (
                <div className="flex justify-start animate-in">
                  <div className="bg-white border border-slate-200 p-3 rounded-2xl flex items-center space-x-2 shadow-sm">
                    <span className="w-2 h-2 bg-[#C29D6F] rounded-full animate-bounce" style={{ animationDelay: "0s" }}></span>
                    <span className="w-2 h-2 bg-[#C29D6F] rounded-full animate-bounce" style={{ animationDelay: "0.2s" }}></span>
                    <span className="w-2 h-2 bg-[#C29D6F] rounded-full animate-bounce" style={{ animationDelay: "0.4s" }}></span>
                  </div>
                </div>
              )}
            </div>

            <div className="p-4 border-t bg-white shrink-0">
              <div className="flex space-x-2">
                <input
                  type="text"
                  value={input}
                  onChange={(e) => setInput(e.target.value)}
                  onKeyDown={(e) => e.key === "Enter" && handleSend()}
                  placeholder="Ask a planning question..."
                  className="flex-1 bg-slate-100 px-4 py-3 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#C29D6F]/50"
                />
                <button
                  onClick={() => handleSend()}
                  disabled={isTyping || !input.trim()}
                  className="w-12 bg-[#1D3A5F] text-white rounded-xl shadow-md hover:bg-[#152a45] active:scale-95 transition-all flex items-center justify-center disabled:opacity-50"
                  aria-label="Send message"
                >
                  →
                </button>
              </div>
              <p className="text-[10px] text-slate-400 mt-3 leading-relaxed">
                Educational information only. No individualized financial, tax, or legal advice is provided here. Policy features vary by carrier and product.
              </p>
            </div>
          </div>
        );
      };

      // --- MAIN APP ---
      const App = () => {
        const [showAssistant, setShowAssistant] = useState(false);
        const [assistantQuery, setAssistantQuery] = useState(null);
        const [selectedService, setSelectedService] = useState(null);
        const [copied, setCopied] = useState(false);

        const handleCopyLink = () => {
          navigator.clipboard.writeText(window.location.href);
          setCopied(true);
          setTimeout(() => setCopied(false), 2000);
        };

        const handleSaveContact = () => {
          const vcardRows = [
            "BEGIN:VCARD",
            "VERSION:3.0",
            `FN:${APP_DATA.name}`,
            `ORG:${APP_DATA.company}`,
            `TITLE:${APP_DATA.title}`,
            `TEL;TYPE=WORK,VOICE:${APP_DATA.phone}`,
            `EMAIL;TYPE=WORK,INTERNET:${APP_DATA.email}`,
            `URL:${APP_DATA.links.main}`,
            "END:VCARD"
          ];
          const blob = new Blob([vcardRows.join("\n")], { type: "text/vcard" });
          const link = document.createElement("a");
          link.href = URL.createObjectURL(blob);
          link.download = "Latimore_Legacy.vcf";
          document.body.appendChild(link);
          link.click();
          document.body.removeChild(link);
        };

        useEffect(() => {
          const anyModalOpen = showAssistant || !!selectedService;
          document.body.style.overflow = anyModalOpen ? "hidden" : "";
          return () => { document.body.style.overflow = ""; };
        }, [showAssistant, selectedService]);

        const openAssistantWith = (query) => {
          setAssistantQuery(query || null);
          setShowAssistant(true);
        };

        return (
          <div className="min-h-screen flex flex-col items-center sm:py-10 selection:bg-[#C29D6F]/30">
            <div className="w-full max-w-[440px] bg-white sm:rounded-[3rem] shadow-2xl overflow-hidden relative sm:border border-slate-200 min-h-screen sm:min-h-[800px]">

              {/* Banner */}
              <div className="w-full h-80 relative flex items-center justify-center overflow-hidden bg-[#1D3A5F]">
                <img src={APP_DATA.bannerUrl} alt="Banner" className="w-full h-full object-cover opacity-90" />
                <div className="absolute inset-0 bg-gradient-to-t from-[#1D3A5F]/90 to-transparent" />
                <div className="absolute bottom-0 w-full h-1.5 bg-[#C29D6F]" />
              </div>

              {/* Profile */}
              <div className="text-center px-6 -mt-20 relative z-10 pb-8">
                <div className="w-32 h-32 mx-auto rounded-full bg-white p-1 shadow-xl mb-4">
                  <div className="w-full h-full rounded-full bg-[#1D3A5F] flex items-center justify-center text-3xl overflow-hidden text-white font-black tracking-wider">
                    JL
                  </div>
                </div>

                <h1 className="text-2xl font-black text-[#1D3A5F] tracking-tight">{APP_DATA.name}</h1>
                <p className="text-[#C29D6F] font-bold text-xs uppercase tracking-widest mt-1">{APP_DATA.title}</p>
                <p className="text-slate-500 text-xs mt-1">{APP_DATA.company}</p>
                <p className="text-slate-400 text-[11px] mt-2">{APP_DATA.license}</p>

                <div className="flex justify-center gap-3 mt-6 flex-wrap">
                  <SocialBtn href={APP_DATA.links.linkedin} label="LinkedIn" />
                  <SocialBtn href={APP_DATA.links.facebook} label="Facebook" />
                  <SocialBtn href={APP_DATA.links.instagram} label="Instagram" />
                  <SocialBtn href={APP_DATA.links.main} label="Website" />
                </div>

                <div className="mt-8 mx-2 px-6 py-6 bg-slate-50 rounded-3xl border border-slate-100 relative">
                  <span className="absolute -top-3 left-4 text-[#C29D6F] text-5xl font-serif">"</span>
                  <p className="text-[#1D3A5F] text-sm leading-relaxed italic font-medium relative z-10">
                    {APP_DATA.bio}
                  </p>
                  <p className="text-slate-500 text-xs mt-4 font-semibold">{APP_DATA.tagline}</p>
                </div>
              </div>

              {/* Actions */}
              <div className="px-6 space-y-3 mb-10">
                <a
                  href={`mailto:${APP_DATA.email}`}
                  className="flex items-center justify-center w-full py-4 bg-[#1D3A5F] text-white rounded-2xl shadow-lg hover:bg-[#152a45] transition-all font-bold text-sm"
                >
                  Email
                </a>

                <a
                  href={APP_DATA.links.booking}
                  target="_blank"
                  rel="noopener noreferrer"
                  className="flex items-center justify-center w-full py-4 bg-[#C29D6F] text-white rounded-2xl shadow-lg hover:opacity-90 transition-all font-bold text-sm"
                >
                  Schedule Review
                </a>

                <div className="grid grid-cols-2 gap-3 pt-1">
                  <button
                    onClick={handleCopyLink}
                    className="flex items-center justify-center py-3 border border-slate-200 rounded-xl text-slate-600 font-semibold text-xs hover:bg-slate-50"
                  >
                    {copied ? "Copied" : "Copy Link"}
                  </button>
                  <button
                    onClick={handleSaveContact}
                    className="flex items-center justify-center py-3 bg-slate-800 text-white rounded-xl shadow-md font-semibold text-xs hover:bg-slate-900"
                  >
                    Save Contact
                  </button>
                </div>

                <p className="text-[10px] text-slate-400 leading-relaxed pt-2">
                  Educational information and planning support. Not legal or tax advice. Product availability, terms, and features vary by carrier and policy.
                </p>
              </div>

              {/* Services */}
              <div className="px-4 mb-24">
                <div className="bg-slate-50 rounded-[2.5rem] p-6 border border-slate-100 shadow-inner">
                  <h2 className="text-[#1D3A5F] text-center font-black text-[10px] uppercase tracking-[0.25em] mb-8 pb-4 border-b border-[#C29D6F]/20">
                    Services
                  </h2>

                  <div className="grid grid-cols-2 gap-4">
                    {APP_DATA.services.map((service, i) => (
                      <button
                        key={i}
                        onClick={() => setSelectedService(service)}
                        className="bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex flex-col items-center text-center hover:border-[#C29D6F] transition-all h-32 justify-center"
                      >
                        <div className="w-11 h-11 rounded-2xl bg-slate-100 flex items-center justify-center text-[#1D3A5F] font-black text-sm mb-2">
                          {service.icon}
                        </div>
                        <span className="text-[10px] font-bold text-[#1D3A5F] uppercase leading-tight">
                          {service.title}
                        </span>
                      </button>
                    ))}
                  </div>
                </div>
              </div>

              {/* Floating Chat */}
              <button
                onClick={() => openAssistantWith(null)}
                className="absolute bottom-6 right-6 bg-[#1D3A5F] px-5 py-4 rounded-full text-white shadow-2xl hover:scale-105 transition-all z-20 border-2 border-[#C29D6F]"
                aria-label="Open assistant"
              >
                <span className="text-xs font-black tracking-widest">ASSIST</span>
              </button>

              {/* Service Modal */}
              {selectedService && (
                <div
                  className="absolute inset-0 z-40 flex items-center justify-center p-4 bg-[#1D3A5F]/60 backdrop-blur-sm"
                  onClick={() => setSelectedService(null)}
                >
                  <div
                    className="bg-white w-full max-w-sm rounded-[2rem] p-8 relative animate-in"
                    onClick={(e) => e.stopPropagation()}
                  >
                    <button
                      onClick={() => setSelectedService(null)}
                      className="absolute top-6 right-6 p-2 bg-slate-100 rounded-full text-slate-600"
                      aria-label="Close service"
                    >
                      ×
                    </button>

                    <div className="w-12 h-12 rounded-2xl bg-slate-100 flex items-center justify-center text-[#1D3A5F] font-black text-sm mb-4">
                      {selectedService.icon}
                    </div>

                    <h3 className="text-[#1D3A5F] font-black text-xl mb-2">{selectedService.title}</h3>
                    <p className="text-slate-600 text-sm leading-relaxed">{selectedService.description}</p>

                    <div className="mt-6 grid grid-cols-2 gap-3">
                      <a
                        href={APP_DATA.links.booking}
                        target="_blank"
                        rel="noopener noreferrer"
                        className="py-3 rounded-xl bg-[#C29D6F] text-white font-bold text-xs text-center hover:opacity-90"
                      >
                        Book Review
                      </a>

                      <button
                        onClick={() => {
                          const q = `Explain ${selectedService.title} in simple terms and what to consider.`;
                          setSelectedService(null);
                          openAssistantWith(q);
                        }}
                        className="py-3 rounded-xl border border-slate-200 text-[#1D3A5F] font-bold text-xs hover:bg-slate-50"
                      >
                        Ask Assistant
                      </button>
                    </div>

                    <p className="text-[10px] text-slate-400 mt-5 leading-relaxed">
                      Educational information only. Not individualized financial, tax, or legal advice. Product features vary by carrier and policy.
                    </p>
                  </div>
                </div>
              )}

              {/* Assistant Modal */}
              {showAssistant && (
                <div
                  className="absolute inset-0 z-50 bg-[#1D3A5F]/60 backdrop-blur-sm p-4 flex items-center justify-center"
                  onClick={() => setShowAssistant(false)}
                >
                  <div
                    className="bg-white w-full max-w-sm h-[560px] rounded-[2rem] overflow-hidden shadow-2xl animate-in"
                    onClick={(e) => e.stopPropagation()}
                  >
                    <Assistant
                      initialQuery={assistantQuery}
                      onClose={() => {
                        setShowAssistant(false);
                        setAssistantQuery(null);
                      }}
                    />
                  </div>
                </div>
              )}
            </div>
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>